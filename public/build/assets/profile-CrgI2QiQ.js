import{c as u,j as r,b as x,X as $,a as T,F as k,e as A,L,H}from"./app-CVM2PdW4.js";import{q as C}from"./index-qBq75qjq.js";import{s as z}from"./index-n1bTQ1JB.js";import{H as E,S as I}from"./layout-Tkr4ND0D.js";import{I as y}from"./input-error-CN6ULDnC.js";import{B as j}from"./use-locale-C8k2nL3Z.js";import{R as O,C as R,a as P,T as V,b as B,D as K,P as U,O as M}from"./language-switcher-CavnSgi-.js";import{I as b}from"./input-D5gTYbkn.js";import{L as v}from"./label-BZ12A8WX.js";import{A as W,e as X}from"./app-layout-DntZRBqi.js";import{K as Y}from"./transition-DWOcsod6.js";/* empty css            */import"./index-CXCPNMUL.js";import"./file-text-CymUbUhW.js";const c=t=>({url:c.url(t),method:"get"});c.definition={methods:["get","head"],url:"/settings/profile"};c.url=t=>c.definition.url+C(t);c.get=t=>({url:c.url(t),method:"get"});c.head=t=>({url:c.url(t),method:"head"});const D=t=>({action:c.url(t),method:"get"});D.get=t=>({action:c.url(t),method:"get"});D.head=t=>({action:c.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});c.form=D;const f=t=>({url:f.url(t),method:"patch"});f.definition={methods:["patch"],url:"/settings/profile"};f.url=t=>f.definition.url+C(t);f.patch=t=>({url:f.url(t),method:"patch"});const q=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});q.patch=t=>({action:f.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...t?.query??t?.mergeQuery??{}}}),method:"post"});f.form=q;const p=t=>({url:p.url(t),method:"delete"});p.definition={methods:["delete"],url:"/settings/profile"};p.url=t=>p.definition.url+C(t);p.delete=t=>({url:p.url(t),method:"delete"});const Q=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});Q.delete=t=>({action:p.url({[t?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...t?.query??t?.mergeQuery??{}}}),method:"post"});p.form=Q;const F={update:f,destroy:p};function G(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=r.jsx(O,{"data-slot":"dialog",...s}),e[2]=s,e[3]=a):a=e[3],a}function J(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=r.jsx(V,{"data-slot":"dialog-trigger",...s}),e[2]=s,e[3]=a):a=e[3],a}function Z(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=r.jsx(U,{"data-slot":"dialog-portal",...s}),e[2]=s,e[3]=a):a=e[3],a}function ee(t){const e=u.c(4);let s;e[0]!==t?({...s}=t,e[0]=t,e[1]=s):s=e[1];let a;return e[2]!==s?(a=r.jsx(P,{"data-slot":"dialog-close",...s}),e[2]=s,e[3]=a):a=e[3],a}function te(t){const e=u.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let l;e[3]!==s?(l=x("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=r.jsx(M,{"data-slot":"dialog-overlay",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}function se(t){const e=u.c(12);let s,a,l;e[0]!==t?({className:a,children:s,...l}=t,e[0]=t,e[1]=s,e[2]=a,e[3]=l):(s=e[1],a=e[2],l=e[3]);let o;e[4]===Symbol.for("react.memo_cache_sentinel")?(o=r.jsx(te,{}),e[4]=o):o=e[4];let i;e[5]!==a?(i=x("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",a),e[5]=a,e[6]=i):i=e[6];let n;e[7]===Symbol.for("react.memo_cache_sentinel")?(n=r.jsxs(P,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[r.jsx($,{}),r.jsx("span",{className:"sr-only",children:"Close"})]}),e[7]=n):n=e[7];let d;return e[8]!==s||e[9]!==l||e[10]!==i?(d=r.jsxs(Z,{"data-slot":"dialog-portal",children:[o,r.jsxs(R,{"data-slot":"dialog-content",className:i,...l,children:[s,n]})]}),e[8]=s,e[9]=l,e[10]=i,e[11]=d):d=e[11],d}function re(t){const e=u.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let l;e[3]!==s?(l=x("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=r.jsx("div",{"data-slot":"dialog-footer",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}function ae(t){const e=u.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let l;e[3]!==s?(l=x("text-lg leading-none font-semibold",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=r.jsx(B,{"data-slot":"dialog-title",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}function le(t){const e=u.c(8);let s,a;e[0]!==t?({className:s,...a}=t,e[0]=t,e[1]=s,e[2]=a):(s=e[1],a=e[2]);let l;e[3]!==s?(l=x("text-muted-foreground text-sm",s),e[3]=s,e[4]=l):l=e[4];let o;return e[5]!==a||e[6]!==l?(o=r.jsx(K,{"data-slot":"dialog-description",className:l,...a}),e[5]=a,e[6]=l,e[7]=o):o=e[7],o}function oe(){const t=u.c(9),e=T.useRef(null);let s;t[0]===Symbol.for("react.memo_cache_sentinel")?(s=r.jsx(E,{title:"Delete account",description:"Delete your account and all of its resources"}),t[0]=s):s=t[0];let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[r.jsx("p",{className:"font-medium",children:"Warning"}),r.jsx("p",{className:"text-sm",children:"Please proceed with caution, this cannot be undone."})]}),t[1]=a):a=t[1];let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=r.jsx(J,{asChild:!0,children:r.jsx(j,{variant:"destructive","data-test":"delete-user-button",children:"Delete account"})}),t[2]=l):l=t[2];let o,i;t[3]===Symbol.for("react.memo_cache_sentinel")?(o=r.jsx(ae,{children:"Are you sure you want to delete your account?"}),i=r.jsx(le,{children:"Once your account is deleted, all of its resources and data will also be permanently deleted. Please enter your password to confirm you would like to permanently delete your account."}),t[3]=o,t[4]=i):(o=t[3],i=t[4]);let n,d,m;t[5]===Symbol.for("react.memo_cache_sentinel")?(n=F.destroy.form(),d={preserveScroll:!0},m=()=>e.current?.focus(),t[5]=n,t[6]=d,t[7]=m):(n=t[5],d=t[6],m=t[7]);let h;return t[8]===Symbol.for("react.memo_cache_sentinel")?(h=r.jsxs("div",{className:"space-y-6",children:[s,r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[a,r.jsxs(G,{children:[l,r.jsxs(se,{children:[o,i,r.jsx(k,{...n,options:d,onError:m,resetOnSuccess:!0,className:"space-y-6",children:g=>{const{resetAndClearErrors:_,processing:N,errors:w}=g;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(v,{htmlFor:"password",className:"sr-only",children:"Password"}),r.jsx(b,{id:"password",type:"password",name:"password",ref:e,placeholder:"Password",autoComplete:"current-password"}),r.jsx(y,{message:w.password})]}),r.jsxs(re,{className:"gap-2",children:[r.jsx(ee,{asChild:!0,children:r.jsx(j,{variant:"secondary",onClick:()=>_(),children:"Cancel"})}),r.jsx(j,{variant:"destructive",disabled:N,asChild:!0,children:r.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Delete account"})})]})]})}})]})]})]})]}),t[8]=h):h=t[8],h}const ie=[{title:"Profile settings",href:X().url}];function _e(t){const e=u.c(14),{mustVerifyEmail:s,status:a}=t,{auth:l}=A().props;let o;e[0]===Symbol.for("react.memo_cache_sentinel")?(o=r.jsx(H,{title:"Profile settings"}),e[0]=o):o=e[0];let i;e[1]===Symbol.for("react.memo_cache_sentinel")?(i=r.jsx(E,{title:"Profile information",description:"Update your name and email address"}),e[1]=i):i=e[1];let n,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(n=F.update.form(),d={preserveScroll:!0},e[2]=n,e[3]=d):(n=e[2],d=e[3]);let m;e[4]!==l.user.email||e[5]!==l.user.email_verified_at||e[6]!==l.user.mobile||e[7]!==l.user.name||e[8]!==s||e[9]!==a?(m=r.jsxs("div",{className:"space-y-6",children:[i,r.jsx(k,{...n,options:d,className:"space-y-6",children:_=>{const{processing:N,recentlySuccessful:w,errors:S}=_;return r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(v,{htmlFor:"name",children:"Name"}),r.jsx(b,{id:"name",className:"mt-1 block w-full",defaultValue:l.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Full name"}),r.jsx(y,{className:"mt-2",message:S.name})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(v,{htmlFor:"email",children:"Email address"}),r.jsx(b,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:l.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Email address"}),r.jsx(y,{className:"mt-2",message:S.email})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(v,{htmlFor:"mobile",children:"Mobile number"}),r.jsx(b,{id:"mobile",className:"mt-1 block w-full",defaultValue:l.user.mobile??"",name:"mobile",required:!0,autoComplete:"tel",placeholder:"+965 5000 0000"}),r.jsx(y,{className:"mt-2",message:S.mobile})]}),s&&l.user.email_verified_at===null&&r.jsxs("div",{children:[r.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Your email address is unverified."," ",r.jsx(L,{href:z(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Click here to resend the verification email."})]}),a==="verification-link-sent"&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"A new verification link has been sent to your email address."})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(j,{disabled:N,"data-test":"update-profile-button",children:"Save"}),r.jsx(Y,{show:w,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:r.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]})]})}})]}),e[4]=l.user.email,e[5]=l.user.email_verified_at,e[6]=l.user.mobile,e[7]=l.user.name,e[8]=s,e[9]=a,e[10]=m):m=e[10];let h;e[11]===Symbol.for("react.memo_cache_sentinel")?(h=r.jsx(oe,{}),e[11]=h):h=e[11];let g;return e[12]!==m?(g=r.jsxs(W,{breadcrumbs:ie,children:[o,r.jsxs(I,{children:[m,h]})]}),e[12]=m,e[13]=g):g=e[13],g}export{_e as default};
