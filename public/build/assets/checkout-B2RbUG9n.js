import{d as k,e as _,k as C,u as F,a as X,j as e,C as b}from"./app-CVM2PdW4.js";import{u as D,B as q}from"./use-locale-C8k2nL3Z.js";import{c as i,C as m,a as u,b as x,d as M}from"./card-DbqyGlU8.js";import{I as l}from"./input-D5gTYbkn.js";import{L as d}from"./label-BZ12A8WX.js";import{S as L}from"./spinner-wolbA-QX.js";import{a as S,U as f}from"./layout-DPt0zdO1.js";import{C as j}from"./credit-card-BkthkhTB.js";import{P as B}from"./phone-CYAIGr1L.js";import{M as I}from"./mail-VmPVOWP0.js";import{M as P,B as E}from"./message-circle-CeDmaoVM.js";import{M as N}from"./map-pin-1aNiAcmh.js";import{F as T}from"./file-text-CymUbUhW.js";import{S as h}from"./shopping-bag-BATJk8yd.js";/* empty css            */import"./loader-circle-BF14CLwf.js";import"./language-switcher-CavnSgi-.js";import"./index-CXCPNMUL.js";import"./store-logo-BkJGVC1t.js";import"./index-qBq75qjq.js";const z=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],U=k("Lock",z);function ne({meals:g=[]}){const{t:r,locale:y}=D(),{auth:v}=_().props,c=v.user,n=C(),s=F({customer:{name:c?.name??"",phone:c?.mobile??"",email:c?.email??"",whatsapp_number:c?.mobile??"",locale:y},delivery_address:"",delivery_city:"",delivery_notes:"",items:n.items.length>0?n.items.map(a=>({meal_id:a.meal_id,quantity:a.quantity})):[{meal_id:g[0]?.id??null,quantity:1}]});X.useEffect(()=>{n.items.length&&s.setData("items",n.items.map(a=>({meal_id:a.meal_id,quantity:a.quantity})))},[n.items.length]);const w=a=>{a.preventDefault(),s.post("/checkout",{onSuccess:()=>n.clear()})},o=s.data.items.map(a=>({...a,meal:g.find(t=>t.id===a.meal_id)})),p=o.reduce((a,t)=>t.meal?a+t.quantity*Number(t.meal.price??0):a,0);return e.jsx(S,{title:r("checkout"),children:e.jsxs("div",{className:"mx-auto max-w-6xl",children:[e.jsxs("div",{className:"mb-8 flex items-center gap-3",children:[e.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-full bg-gradient-to-br from-[#00a0a3] to-cyan-600 text-white shadow-lg",children:e.jsx(j,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-neutral-900 dark:text-white",children:r("checkout")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r("complete_your_order")})]})]}),e.jsx("form",{onSubmit:w,children:e.jsxs("div",{className:"grid gap-8 lg:grid-cols-5",children:[e.jsxs("div",{className:"lg:col-span-3 space-y-6",children:[e.jsxs(i,{className:"overflow-hidden border-0 bg-white/80 shadow-xl backdrop-blur-sm dark:bg-neutral-900/80",children:[e.jsx(m,{className:"border-b border-neutral-200/50 bg-gradient-to-r from-cyan-50/80 to-teal-50/80 dark:border-neutral-700/50 dark:from-neutral-800/80 dark:to-neutral-800/50",children:e.jsxs(u,{className:"flex items-center gap-2 text-lg",children:[e.jsx(f,{className:"h-5 w-5 text-[#00a0a3]"}),r("contact_information")]})}),e.jsxs(x,{className:"grid gap-5 p-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"customer.name",className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(f,{className:"h-4 w-4 text-[#00a0a3]"}),r("name")]}),e.jsx(l,{id:"customer.name",value:s.data.customer.name,onChange:a=>s.setData("customer",{...s.data.customer,name:a.target.value}),className:"border-neutral-300 bg-white/50 focus:border-[#00a0a3] focus:ring-[#00a0a3] dark:border-neutral-600 dark:bg-neutral-800/50",placeholder:r("enter_your_name")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"customer.phone",className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(B,{className:"h-4 w-4 text-[#00a0a3]"}),r("phone")]}),e.jsx(l,{id:"customer.phone",value:s.data.customer.phone,onChange:a=>s.setData("customer",{...s.data.customer,phone:a.target.value}),className:"border-neutral-300 bg-white/50 focus:border-[#00a0a3] focus:ring-[#00a0a3] dark:border-neutral-600 dark:bg-neutral-800/50",placeholder:"+965 XXXX XXXX"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"customer.email",className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(I,{className:"h-4 w-4 text-[#00a0a3]"}),r("email_address")]}),e.jsx(l,{id:"customer.email",type:"email",value:s.data.customer.email,onChange:a=>s.setData("customer",{...s.data.customer,email:a.target.value}),className:"border-neutral-300 bg-white/50 focus:border-[#00a0a3] focus:ring-[#00a0a3] dark:border-neutral-600 dark:bg-neutral-800/50",placeholder:"you@example.com"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"customer.whatsapp",className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(P,{className:"h-4 w-4 text-green-500"}),r("whatsapp_number")]}),e.jsx(l,{id:"customer.whatsapp",value:s.data.customer.whatsapp_number,onChange:a=>s.setData("customer",{...s.data.customer,whatsapp_number:a.target.value}),className:"border-neutral-300 bg-white/50 focus:border-[#00a0a3] focus:ring-[#00a0a3] dark:border-neutral-600 dark:bg-neutral-800/50",placeholder:"+965 XXXX XXXX"})]})]})]}),e.jsxs(i,{className:"overflow-hidden border-0 bg-white/80 shadow-xl backdrop-blur-sm dark:bg-neutral-900/80",children:[e.jsx(m,{className:"border-b border-neutral-200/50 bg-gradient-to-r from-cyan-50/80 to-teal-50/80 dark:border-neutral-700/50 dark:from-neutral-800/80 dark:to-neutral-800/50",children:e.jsxs(u,{className:"flex items-center gap-2 text-lg",children:[e.jsx(N,{className:"h-5 w-5 text-[#00a0a3]"}),r("delivery_information")]})}),e.jsxs(x,{className:"grid gap-5 p-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsxs(d,{htmlFor:"delivery_address",className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(N,{className:"h-4 w-4 text-[#00a0a3]"}),r("address")]}),e.jsx(l,{id:"delivery_address",value:s.data.delivery_address,onChange:a=>s.setData("delivery_address",a.target.value),className:"border-neutral-300 bg-white/50 focus:border-[#00a0a3] focus:ring-[#00a0a3] dark:border-neutral-600 dark:bg-neutral-800/50",placeholder:r("enter_your_address")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"delivery_city",className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(E,{className:"h-4 w-4 text-[#00a0a3]"}),r("city")]}),e.jsx(l,{id:"delivery_city",value:s.data.delivery_city,onChange:a=>s.setData("delivery_city",a.target.value),className:"border-neutral-300 bg-white/50 focus:border-[#00a0a3] focus:ring-[#00a0a3] dark:border-neutral-600 dark:bg-neutral-800/50",placeholder:r("enter_city")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{htmlFor:"delivery_notes",className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(T,{className:"h-4 w-4 text-[#00a0a3]"}),r("notes")]}),e.jsx(l,{id:"delivery_notes",value:s.data.delivery_notes,onChange:a=>s.setData("delivery_notes",a.target.value),className:"border-neutral-300 bg-white/50 focus:border-[#00a0a3] focus:ring-[#00a0a3] dark:border-neutral-600 dark:bg-neutral-800/50",placeholder:r("special_instructions")})]})]})]})]}),e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"sticky top-24 space-y-6",children:[o.length>0&&e.jsxs(i,{className:"overflow-hidden border-0 bg-white/80 shadow-xl backdrop-blur-sm dark:bg-neutral-900/80",children:[e.jsx(m,{className:"border-b border-neutral-200/50 bg-gradient-to-r from-cyan-50/80 to-teal-50/80 dark:border-neutral-700/50 dark:from-neutral-800/80 dark:to-neutral-800/50",children:e.jsxs(u,{className:"flex items-center gap-2 text-lg",children:[e.jsx(h,{className:"h-5 w-5 text-[#00a0a3]"}),r("order_summary")]})}),e.jsx(x,{className:"divide-y divide-neutral-200/50 p-0 dark:divide-neutral-700/50",children:o.map((a,t)=>a.meal?e.jsxs("div",{className:"flex items-center gap-4 p-4",children:[a.meal.image_url&&e.jsx("div",{className:"relative h-16 w-16 flex-shrink-0 overflow-hidden rounded-xl bg-neutral-100 shadow-md dark:bg-neutral-800",children:e.jsx("img",{src:a.meal.image_url,alt:a.meal.name,className:"h-full w-full object-cover"})}),!a.meal.image_url&&e.jsx("div",{className:"flex h-16 w-16 flex-shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-cyan-100 to-teal-100 dark:from-cyan-900/30 dark:to-teal-900/30",children:e.jsx(h,{className:"h-6 w-6 text-[#00a0a3]"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-neutral-900 dark:text-white truncate",children:a.meal.name}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsxs("span",{className:"inline-flex items-center rounded-full bg-cyan-100 px-2 py-0.5 text-xs font-medium text-[#00a0a3] dark:bg-cyan-900/50 dark:text-cyan-300",children:["x",a.quantity]}),e.jsxs("span",{children:["@ ",Number(a.meal.price).toFixed(2)," ",r("currency_code")]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"font-bold text-neutral-900 dark:text-white",children:(a.quantity*a.meal.price).toFixed(2)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r("currency_code")})]})]},t):null)}),e.jsxs(M,{className:"flex flex-col gap-4 border-t border-neutral-200/50 bg-neutral-50/50 p-6 dark:border-neutral-700/50 dark:bg-neutral-800/30",children:[e.jsxs("div",{className:"flex w-full items-center justify-between",children:[e.jsx("span",{className:"text-lg font-medium text-muted-foreground",children:r("order_total")}),e.jsxs("span",{className:"text-2xl font-bold text-[#00a0a3] dark:text-cyan-400",children:[p.toFixed(2)," ",r("currency_code")]})]}),e.jsx(q,{type:"submit",disabled:s.processing,className:"w-full bg-gradient-to-r from-[#00a0a3] to-cyan-600 py-6 text-base font-semibold text-white shadow-lg transition-all hover:from-[#008789] hover:to-cyan-700 hover:shadow-xl",children:s.processing?e.jsxs(e.Fragment,{children:[e.jsx(L,{className:"mr-2 h-5 w-5"}),r("placing_order")]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"mr-2 h-5 w-5"}),r("pay_now")," â€” ",p.toFixed(2)," ",r("currency_code")]})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 rounded-lg bg-green-50 p-3 text-sm text-green-700 dark:bg-green-900/20 dark:text-green-400",children:[e.jsx(U,{className:"h-4 w-4"}),e.jsx("span",{children:r("secure_checkout")})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-neutral-200/50 bg-white/50 p-3 dark:border-neutral-700/50 dark:bg-neutral-800/50",children:[e.jsx(b,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r("fast_delivery")})]}),e.jsxs("div",{className:"flex items-center gap-2 rounded-lg border border-neutral-200/50 bg-white/50 p-3 dark:border-neutral-700/50 dark:bg-neutral-800/50",children:[e.jsx(b,{className:"h-5 w-5 text-green-500"}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r("fresh_ingredients")})]})]})]})})]})}),s.processing&&e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"flex flex-col items-center gap-4 rounded-2xl bg-white p-8 shadow-2xl dark:bg-neutral-900",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"h-16 w-16 animate-spin rounded-full border-4 border-cyan-200 border-t-[#00a0a3]"}),e.jsx(h,{className:"absolute left-1/2 top-1/2 h-6 w-6 -translate-x-1/2 -translate-y-1/2 text-[#00a0a3]"})]}),e.jsx("p",{className:"text-lg font-medium text-neutral-900 dark:text-white",children:r("sending_burger_order")}),e.jsx("p",{className:"text-sm text-muted-foreground",children:r("please_wait")})]})})]})})}export{ne as default};
